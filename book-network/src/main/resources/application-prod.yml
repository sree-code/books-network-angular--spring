spring:
  datasource:
    # Render provides DATABASE_URL in postgresql:// format, Spring Boot needs jdbc:postgresql://
    # If DATABASE_URL starts with postgresql://, we'll handle it in code
    # Otherwise, use JDBC_DATABASE_URL if provided, or fall back to individual components
    url: ${JDBC_DATABASE_URL:${DATABASE_URL:jdbc:postgresql://localhost:5432/book_social_network}}
    username: ${DATABASE_USERNAME:username}
    password: ${DATABASE_PASSWORD:password}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        format_sql: false
        dialect: org.hibernate.dialect.PostgreSQLDialect
    database: postgresql
    database-platform: org.hibernate.dialect.PostgreSQLDialect
  mail:
    host: ${MAIL_HOST:smtp.gmail.com}
    port: ${MAIL_PORT:587}
    username: ${MAIL_USERNAME:your-email@gmail.com}
    password: ${MAIL_PASSWORD:your-app-password}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enabled: true
          connectiontimeout: 5000
          timeout: 3000
          writetimeout: 5000
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${KEYCLOAK_ISSUER_URI:http://localhost:9090/realms/book-social-network}

application:
  file:
    uploads:
      photos-output-path: ${FILE_UPLOAD_PATH:/tmp/uploads}

server:
  port: ${PORT:8088}
  error:
    include-message: always
    include-binding-errors: always

logging:
  level:
    root: INFO
    com.gorasr6.book: INFO

